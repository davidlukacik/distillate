<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Opening in Obsidian...</title>
<style>
  body { font-family: -apple-system, system-ui, sans-serif; text-align: center; padding: 60px 20px; color: #333; }
  a { color: #7c3aed; }
</style>
</head>
<body>
<p>Opening in Obsidian...</p>
<p id="fallback" style="display:none">
  If nothing happened, <a id="link">tap here to open in Obsidian</a>.
</p>
<script>
  var params = new URLSearchParams(window.location.search);
  var vault = params.get("vault");
  var file = params.get("file");
  if (vault && file) {
    var uri = "obsidian://open?vault=" + encodeURIComponent(vault) + "&file=" + encodeURIComponent(file);
    document.getElementById("link").href = uri;
    setTimeout(function() { document.getElementById("fallback").style.display = "block"; }, 1500);
    window.location.href = uri;
  } else {
    document.body.innerHTML = "<p>Missing vault or file parameter.</p>";
  }
</script>
</body>
</html>
